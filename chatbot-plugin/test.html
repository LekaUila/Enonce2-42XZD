<!DOCTYPE html>

<header>


</header>

<body style="background-color: #e6e8e6">

    <div id="global_div" style="margin: auto; text-align: center;">
        <div id="msg_div" style="
        margin: auto; width: 50%;
        border: solid #080708; padding: 1%; text-align: left; scroll-behavior: auto;
        overflow-y: scroll;
        height: 600px;
        ">
    <!--###################################################################################-->
    <!--###################################################################################-->
    <!--###################################################################################-->
    <!--                                      JAVASCRIPT                                   -->
    <!--###################################################################################-->
    <!--###################################################################################-->
    <!--###################################################################################-->
            <script>

                function addElement (user, text, backgroundColor) {
                    console.log('addElement launch');
                // crée un nouvel élément div
                var newDiv = document.createElement("div");
                // et lui donne un peu de contenu
                var newContent = document.createTextNode(user + " : " + text);
                // ajoute le nœud texte au nouveau div créé
                newDiv.appendChild(newContent);

                // ajoute le nouvel élément créé et son contenu dans le DOM
                var currentDiv = document.getElementById('after_msg_div');
                var currentDivcontainer = document.getElementById('msg_div');
                currentDivcontainer.insertBefore(newDiv, currentDiv);

                newDiv.style.border = 'black solid 1px';
                newDiv.style.color = 'white';
                newDiv.style.backgroundColor = backgroundColor;
                newDiv.style.borderRadius = '30px';
                newDiv.style.marginTop = '1%';
                newDiv.style.marginBottom = '1%';
                newDiv.style.padding = '1%';
                newDiv.style.paddingLeft = '2%';
                newDiv.style.paddingRight = '2%';
                }

                function print_user_message() {
                    console.log('print_user_message launch');
                    var text_input = document.getElementById('input_user');
                    var txt = text_input.value;
                    text_input.value = "";
                    addElement("you", txt, "#3772FF");
                }
                function print_ia_message() {
                    console.log('print_ia_message launch');
                    var txt = 'your awsner :';
                    addElement("AI", txt, "#DF2935");
                }
                function scroll_bottom(params) {
                    console.log('scroll_bottom launch');
                    element = document.getElementById('msg_div');
                    element.scrollTop = element.scrollHeight;
                }

                function send_rick_roll ()
                {
                    console.log('addElement launch');
                // crée un nouvel élément div
                var newDiv = document.createElement("div");
                // et lui donne un peu de contenu
                newDiv.innerHTML = '<iframe width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>';
                // ajoute le nouvel élément créé et son contenu dans le DOM
                var currentDiv = document.getElementById('after_msg_div');
                var currentDivcontainer = document.getElementById('msg_div');
                currentDivcontainer.insertBefore(newDiv, currentDiv);
                /*
                newDiv.style.width = "560";
                newDiv.style.height = "315";
                newDiv.title = "YouTube video player";
                newDiv.src = "https://www.youtube.com/embed/dQw4w9WgXcQ";
                //frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen
                */
                }

                function send_message() {
                    console.log('send_message launch');
                    print_user_message();
                    print_ia_message();
                    send_rick_roll();
                    scroll_bottom();
                }


                window.addEventListener('load', function () {
                    

                console.log('Cette fonction est exécutée une fois quand la page est chargée.');
                });
            </script>
            <div id="after_msg_div"></div>
        </div>
    <!--###################################################################################-->
    <!--###################################################################################-->
    <!--###################################################################################-->
    <!--                                      INTERFACE                                   -->
    <!--###################################################################################-->
    <!--###################################################################################-->
    <!--###################################################################################-->



        <div id="input_div" style="margin: auto; text-align: right; width: 52%; padding: 0%; border: solid #080708; background-color: #F1BF98;">

            <input type="text" placeholder="enter your question" id="input_user" style="border: none; background-color: #F1BF98; display: inline-block; width: 80%; margin: 0%;"><button onclick="send_message()" style="border: none; display: inline-block; width: 18%; margin: 0%; background-color: #DF2935;">Send</button> 
    
        </div>
    </div>



</body>